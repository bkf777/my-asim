"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[7423],{17423:function(e,t,n){n.r(t),n.d(t,{ConditionBuilderRenderer:function(){return p},default:function(){return d}});var r=n(31635),i=n(96540),o=n(5917),a=n(25627),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.renderEtrValue=function(e,t){return this.props.render("inline",Object.assign({},e,{label:!1,inputOnly:!0,changeImmediately:!0}),t)},t.prototype.renderPickerIcon=function(){var e=this.props,t=e.render,n=e.pickerIcon;return n?t("picker-icon",n):void 0},t.prototype.getAddBtnVisible=function(e){var t=this.props,n=t.data,r=t.addBtnVisibleOn;return"string"!=typeof r||!r||(0,o.pgu)(r,(0,o.ed2)(n,e))},t.prototype.getAddGroupBtnVisible=function(e){var t=this.props,n=t.data,r=t.addGroupBtnVisibleOn;return"string"!=typeof r||!r||(0,o.pgu)(r,(0,o.ed2)(n,e))},t.prototype.validate=function(){var e,t=this.props,n=t.value,r=t.required,i=t.translate;if(r){if(!n||!n.children)return i("Condition.isRequired");var o=!0,a=["is_empty","is_not_empty"];return null===(e=null==n?void 0:n.children)||void 0===e||e.forEach(function(e){e.op&&(e.right||~a.indexOf(e.op))&&(o=!1)}),o?i("Condition.isRequired"):null}},t.prototype.render=function(){var e=this.props,t=e.className,n=e.classnames,a=(e.style,e.pickerIcon,e.env),d=e.popOverContainer,p=(0,r.__rest)(e,["className","classnames","style","pickerIcon","env","popOverContainer"]),l=this.props.formula?(0,r.__assign)({},this.props.formula):void 0;return l&&l.variables&&(0,o.joH)(l.variables)&&(l.variables=(0,o.GvO)(l.variables,this.props.data,"| raw")),i.createElement("div",{className:n("ConditionBuilderControl",{"is-mobile":(0,o.FrL)()},t)},i.createElement(s,(0,r.__assign)({renderEtrValue:this.renderEtrValue,pickerIcon:this.renderPickerIcon(),isAddBtnVisibleOn:this.getAddBtnVisible,isAddGroupBtnVisibleOn:this.getAddGroupBtnVisible,popOverContainer:d||a.getModalContainer},p,{formula:l})))},(0,r.__decorate)([o.d6t,(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object,Object]),(0,r.__metadata)("design:returntype",void 0)],t.prototype,"renderEtrValue",null),(0,r.__decorate)([o.d6t,(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],t.prototype,"getAddBtnVisible",null),(0,r.__decorate)([o.d6t,(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],t.prototype,"getAddGroupBtnVisible",null),t}(i.PureComponent),s=(0,a.xy)({adaptor:function(e){return e.fields||e}})(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.config,o=(e.deferLoad,e.disabled),d=e.renderEtrValue,s=(0,r.__rest)(e,["loading","config","deferLoad","disabled","renderEtrValue"]);return i.createElement(a.HR,(0,r.__assign)({},s,{fields:n||s.fields||[],disabled:o||t,renderEtrValue:d}))},t}(i.Component)),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),(0,r.__decorate)([(0,o.eIh)({type:"condition-builder",strictMode:!1})],t)}(d)}}]);