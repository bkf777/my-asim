"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[7800],{97800:function(e,t,n){n.r(t),n.d(t,{Carousel:function(){return c},CarouselRenderer:function(){return m}});var a,o=n(31635),r=n(96540),i=n(75067),s=n(5917),l=n(25627),d=n(98253),u=((a={})[i.ns]="in",a[i._K]="in",a[i.ze]="out",a),p={component:function(e){var t,n,a=e.data||{},o=e.thumbMode,i=e.classnames;return r.createElement(r.Fragment,null,a.hasOwnProperty("image")?r.createElement(d.default,{src:a.image,title:a.title,href:a.href,blank:a.blank,htmlTarget:a.htmlTarget,caption:a.description,thumbMode:null!==(n=null!==(t=a.thumbMode)&&void 0!==t?t:o)&&void 0!==n?n:"contain",imageMode:"original",className:i("Carousel-image")}):a.hasOwnProperty("html")?r.createElement(l.Ed,{html:a.html,filterHtml:e.env.filterHtml}):a.hasOwnProperty("item")?r.createElement("span",null,a.item):r.createElement("p",null))}},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=r.createRef(),t.state={current:0,options:t.props.options||(0,s.$_G)(t.props)||[],nextAnimation:"",mouseStartLocation:null},t.loading=!1,t}return(0,o.__extends)(t,e),t.prototype.componentDidMount=function(){this.prepareAutoSlide()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.options||(0,s.$_G)(t)||[],a=e.options||(0,s.$_G)(e)||[];(0,s.Kbh)(a,n)&&this.setState({options:n})},t.prototype.componentWillUnmount=function(){this.clearAutoTimeout()},t.prototype.doAction=function(e,t,n,a){var o=null==e?void 0:e.actionType;~["next","prev"].indexOf(o)?this.autoSlide(o):"goto-image"===o&&this.changeSlide((null==a?void 0:a.activeIndex)-1)},t.prototype.prepareAutoSlide=function(){if(!(this.state.options.length<2)&&(this.clearAutoTimeout(),this.props.auto)){var e=this.props.interval;this.intervalTimeout=setTimeout(this.autoSlide,"string"==typeof e?(0,s.GvO)(e,this.props.data)||5e3:e)}},t.prototype.autoSlide=function(e){this.clearAutoTimeout();var t=this.props.animation,n=this.state.nextAnimation;"prev"===e?(n="slide"===t?"slideRight":"",this.transitFramesTowards("right",n)):(n="",this.transitFramesTowards("left",n)),this.durationTimeout=setTimeout(this.prepareAutoSlide,this.props.duration)},t.prototype.transitFramesTowards=function(e,t){return(0,o.__awaiter)(this,void 0,void 0,function(){var n,a,r,i,l,d;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(n=this.state.current,a=n,!1===this.props.loop&&(0===n&&"right"===e||n===this.state.options.length-1&&"left"===e))return[2];switch(e){case"left":n=this.getFrameId("next");break;case"right":n=this.getFrameId("prev")}return r=this.props,i=r.dispatchEvent,l=r.data,[4,i("change",(0,s.ed2)(l,{activeIndex:n+1,prevIndex:a}))];case 1:return(null==(d=o.sent())?void 0:d.prevented)||this.setState({current:n,nextAnimation:t}),[2]}})})},t.prototype.getFrameId=function(e){var t=this.state,n=t.options,a=t.current,o=n.length;switch(e){case"prev":return(a-1+o)%o;case"next":return(a+1)%o;default:return a}},t.prototype.next=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("next")},t.prototype.prev=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("prev")},t.prototype.clearAutoTimeout=function(){clearTimeout(this.intervalTimeout),clearTimeout(this.durationTimeout)},t.prototype.changeSlide=function(e){return(0,o.__awaiter)(this,void 0,void 0,function(){var t,n,a,r,i,l;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return t=this.state.current,n=this.props,a=n.dispatchEvent,r=n.data,i=n.multiple,this.loading&&i&&i.count>1?[2]:[4,a("change",(0,s.ed2)(r,{activeIndex:e,prevIndex:t}))];case 1:return(null==(l=o.sent())?void 0:l.prevented)||this.setState({current:e}),[2]}})})},t.prototype.renderDots=function(){var e=this,t=this.props.classnames,n=this.state,a=n.current,o=n.options;return r.createElement("div",{className:t("Carousel-dotsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},Array.from({length:o.length}).map(function(n,o){return r.createElement("span",{key:o,onClick:function(){return e.changeSlide(o)},className:t("Carousel-dot",a===o?"is-active":"")})}))},t.prototype.renderArrows=function(){var e=this.props.classnames;return r.createElement("div",{className:e("Carousel-arrowsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.createElement("div",{className:e("Carousel-leftArrow"),onClick:this.prev},r.createElement(l.In,{icon:"left-arrow",className:"icon"})),r.createElement("div",{className:e("Carousel-rightArrow"),onClick:this.next},r.createElement(l.In,{icon:"right-arrow",className:"icon"})))},t.prototype.handleMouseEnter=function(){var e=this.props.multiple;e&&e.count>1||this.clearAutoTimeout()},t.prototype.handleMouseLeave=function(){var e=this.props.multiple;e&&e.count>1||this.prepareAutoSlide()},t.prototype.getNewOptions=function(e,t){void 0===t&&(t=1);var n=e;if(Array.isArray(e)&&e.length){n=new Array(e.length);for(var a=0;a<e.length;a++){n[a]=new Array(t);for(var o=0;o<t;o++)n[a][o]=e[(a+o)%e.length]}}return n},t.prototype.getEventScreenXY=function(e){var t,n,a,o,r,i,s,l;return void 0!==e.screenX?(s=e.screenX,l=e.screenY):(null===(t=e.touches)||void 0===t?void 0:t.length)?(s=null===(n=e.touches[0])||void 0===n?void 0:n.screenX,l=null===(a=e.touches[0])||void 0===a?void 0:a.screenY):(null===(o=e.changedTouches)||void 0===o?void 0:o.length)&&(s=null===(r=e.changedTouches[0])||void 0===r?void 0:r.screenX,l=null===(i=e.changedTouches[0])||void 0===i?void 0:i.screenY),{screenX:s,screenY:l}},t.prototype.addMouseDownListener=function(e){var t=this.props.direction,n=this.getEventScreenXY(e),a=n.screenX,o=n.screenY,r="vertical"===t?o:a;void 0!==r&&this.setState({mouseStartLocation:r})},t.prototype.addMouseUpListener=function(e){var t=this.getEventScreenXY(e),n=t.screenX,a=t.screenY,o="vertical"===this.props.direction?a:n;null!==this.state.mouseStartLocation&&void 0!==o&&(o-this.state.mouseStartLocation>20?this.autoSlide("prev"):this.state.mouseStartLocation-o>20&&this.autoSlide(),this.setState({mouseStartLocation:null}))},t.prototype.render=function(){var e,t=this,n=this.props,a=n.render,d=n.className,c=n.style,m=n.classnames,h=n.itemSchema,_=n.animation,v=n.width,g=n.height,y=n.controls,f=n.controlsTheme,w=n.placeholder,C=n.data,E=n.name,S=n.duration,M=n.multiple,N=n.alwaysShowArrow,x=n.icons,A=n.id,T=n.wrapperCustomStyle,b=n.env,L=n.themeCss,F=this.state,k=F.options,I=F.current,O=F.nextAnimation,X=null,D=c?(0,o.__assign)({},c):{};v&&(isNaN(Number(v))?D.width=v:D.width=v+"px"),g&&(isNaN(Number(g))?D.height=g:D.height=g+"px");var R=(0,o.__read)([y.indexOf("dots")>-1,y.indexOf("arrows")>-1],2),U=R[0],Y=R[1],G=O||_;if(Array.isArray(k)&&k.length){var H=1;M&&"number"==typeof M.count&&M.count>=2&&(H=Math.floor(M.count)<k.length?Math.floor(M.count):k.length);var P=this.getNewOptions(k,H),z=H>1&&"number"==typeof S?"".concat(S,"ms"):S||"500ms",j=H>1&&"number"==typeof S?S:500;X=r.createElement("div",{ref:this.wrapperRef,className:m("Carousel-container"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},k.map(function(e,n){return r.createElement(i.Ay,{mountOnEnter:!0,unmountOnExit:!0,in:n===I,timeout:j,key:n},function(l){var d;l===i.ns&&t.wrapperRef.current&&t.wrapperRef.current.childNodes.forEach(function(e){return e.offsetHeight}),H>1&&(l!==i.ns&&l!==i.ze||t.loading?l!==i._K&&l!==i.kp||!t.loading||(t.loading=!1):t.loading=!0);var c=((d={})[i.ns]=0,d[i._K]=0,d[i.ze]="slideRight"===G?100/H:-100/H,d[i.kp]="slideRight"===G?-100/H:100/H,d),v=H>1?(0,o.__assign)({transitionTimingFunction:"linear",transitionDuration:z},"slide"===_?{transform:"translateX(".concat(c[l],"%)")}:{}):{},g=function(e){var n,r=e.itemSchema,i=(0,o.__rest)(e,["itemSchema"]);return a("".concat(I,"/body"),r||h?r||h:p,{thumbMode:t.props.thumbMode,data:(0,s.ed2)(C,(0,s.Gvm)(e)?i:(n={item:e},n[E]=e,n))})};return r.createElement("div",{className:m("Carousel-item",G,u[l]),style:v},1===H?g(e):null,H>1?P[n].map(function(e,t){return r.createElement("div",{key:t,style:{width:100/H+"%",height:"100%",float:"left"}},g(e))}):null)})}))}return r.createElement("div",{className:m("Carousel Carousel--".concat(f),(e={},e["Carousel-arrow--always"]=!!N,e),d,(0,s.NH8)((0,o.__assign)((0,o.__assign)({},this.props),{name:"baseControlClassName",id:A,themeCss:L})),(0,s.NH8)((0,o.__assign)((0,o.__assign)({},this.props),{name:"wrapperCustomStyle",id:A,themeCss:T})),{"Carousel-vertical":"vertical"===this.props.direction}),onMouseDown:this.props.mouseEvent?this.addMouseDownListener:void 0,onMouseUp:this.props.mouseEvent?this.addMouseUpListener:void 0,onMouseLeave:this.props.mouseEvent?this.addMouseUpListener:void 0,onTouchStart:this.props.mouseEvent?this.addMouseDownListener:void 0,onTouchEnd:this.props.mouseEvent?this.addMouseUpListener:void 0,style:D},X||w,U?this.renderDots():null,Y?r.createElement("div",{className:m("Carousel-leftArrow",(0,s.NH8)((0,o.__assign)((0,o.__assign)({},this.props),{name:"galleryControlClassName",id:A,themeCss:L}))),onClick:this.prev},x&&x.prev?r.isValidElement(x.prev)?x.prev:a("arrow-prev",x.prev):r.createElement(l.In,{icon:"left-arrow",className:"icon",iconContent:"ImageGallery-prevBtn"})):null,Y?r.createElement("div",{className:m("Carousel-rightArrow",(0,s.NH8)((0,o.__assign)((0,o.__assign)({},this.props),{name:"galleryControlClassName",id:A,themeCss:L}))),onClick:this.next},x&&x.next?r.isValidElement(x.next)?x.next:a("arrow-next",x.next):r.createElement(l.In,{icon:"right-arrow",className:"icon",iconContent:"ImageGallery-nextBtn"})):null,r.createElement(s.z4D,(0,o.__assign)({},this.props,{config:{wrapperCustomStyle:T,id:A,themeCss:L,classNames:[{key:"baseControlClassName"},{key:"galleryControlClassName",weights:{default:{suf:" svg",important:!0}}}]},env:b})))},t.defaultProps={auto:!0,interval:5e3,duration:500,controlsTheme:"light",animation:"fade",controls:["dots","arrows"],placeholder:"-",multiple:{count:1},alwaysShowArrow:!1},(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"prepareAutoSlide",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[String]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"autoSlide",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[String,String]),(0,o.__metadata)("design:returntype",Promise)],t.prototype,"transitFramesTowards",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[String]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"getFrameId",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"next",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"prev",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"clearAutoTimeout",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Number]),(0,o.__metadata)("design:returntype",Promise)],t.prototype,"changeSlide",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"handleMouseEnter",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"handleMouseLeave",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"addMouseDownListener",null),(0,o.__decorate)([s.d6t,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],t.prototype,"addMouseUpListener",null),t}(r.Component),m=function(e){function t(t,n){var a=e.call(this,t)||this;return n.registerComponent(a),a}return(0,o.__extends)(t,e),t.prototype.componentWillUnmount=function(){var t;null===(t=e.prototype.componentWillUnmount)||void 0===t||t.call(this),this.context.unRegisterComponent(this)},t.contextType=s.MzX,(0,o.__decorate)([(0,s.A49)({type:"carousel"}),(0,o.__metadata)("design:paramtypes",[Object,Object])],t)}(c)}}]);