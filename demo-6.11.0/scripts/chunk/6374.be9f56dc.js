(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[6374],{17678:function(e){var t=Math.max,n=Math.min;e.exports=function(e,a,o){return e>=n(a,o)&&e<t(a,o)}},59104:function(e,t,n){var a=n(17678),o=n(17400),l=n(99374);e.exports=function(e,t,n){return t=o(t),void 0===n?(n=t,t=0):n=o(n),e=l(e),a(e,t,n)}},96374:function(e,t,n){"use strict";n.r(t),n.d(t,{CheckboxesControlRenderer:function(){return u},default:function(){return p}});var a=n(31635),o=n(96540),l=n(59104),s=n.n(l),i=n(5917),c=n(25627),r=n(66283),d=n(38221),h=n.n(d),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkboxRef=o.createRef(),t.childRefs=[],t}return(0,a.__extends)(t,e),t.prototype.doAction=function(e,t,n){var a,o,l=this.props,s=l.resetValue,c=l.onChange,r=l.formStore,d=l.store,h=l.name,p=null==e?void 0:e.actionType;if("clear"===p)c("");else if("reset"===p){var u=null!==(o=(0,i.dnO)(null!==(a=null==r?void 0:r.pristine)&&void 0!==a?a:null==d?void 0:d.pristine,h))&&void 0!==o?o:s;c(null!=u?u:"")}},t.prototype.reload=function(){var e=this.props.reloadOptions;e&&e()},t.prototype.handleAddClick=function(){var e=this.props.onAdd;e&&e()},t.prototype.handleEditClick=function(e,t){var n=this.props.onEdit;e.preventDefault(),e.stopPropagation(),n&&n(t)},t.prototype.handleDeleteClick=function(e,t){var n=this.props.onDelete;e.preventDefault(),e.stopPropagation(),n&&n(t)},t.prototype.componentDidMount=function(){this.updateBorderStyle();var e=h()(this.updateBorderStyle,100);this.checkboxRef.current&&(this.checkboxRefObserver=new ResizeObserver(e),this.checkboxRefObserver.observe(this.checkboxRef.current))},t.prototype.componentWillUnmount=function(){var e;null===(e=this.checkboxRefObserver)||void 0===e||e.disconnect()},t.prototype.updateBorderStyle=function(){if("button"===this.props.optionType&&this.childRefs.length){var e=this.childRefs.map(function(e){return null==e?void 0:e.ref}),t=e[0].labelRef.current.offsetTop,n=[],a=e.length;n[0]="first";for(var o=0,l=1;l<a;l++){var s=e[l].labelRef.current.offsetTop;n[l]="",s!==t&&(n[l]="first",n[l-1]+=" last",o=l,t=s)}n[a-1]+=" last",n.forEach(function(t,n){n>=o&&(t+=" last-line"),e[n].setClassName(t)})}},t.prototype.renderGroup=function(e,t){var n,a=this,l=this.props,s=l.classnames,i=l.labelField;if(!(null===(n=e.children)||void 0===n?void 0:n.length))return null;var c=e.children.map(function(e,t){return a.renderItem(e,t)}),r=this.columnsSplit(c);return o.createElement("div",{key:"group-"+t,className:s("CheckboxesControl-group",e.className)},o.createElement("label",{className:s("CheckboxesControl-groupLabel",e.labelClassName)},e[i||"label"]),r)},t.prototype.addChildRefs=function(e){e&&this.childRefs.push(e)},t.prototype.renderItem=function(e,t){var n,a=this;if(null===(n=e.children)||void 0===n?void 0:n.length)return this.renderGroup(e,t);var l=this.props,s=l.render,r=l.itemClassName,d=l.onToggle,h=l.selectedOptions,p=l.disabled,u=l.inline,m=l.labelClassName,b=l.labelField,f=l.removable,k=l.editable,C=l.translate,_=l.optionType,g=l.menuTpl,y=l.data,v=l.testIdBuilder,x=String(e[b||"label"]),N=e.labelClassName,E=null==v?void 0:v.getChild("item-"+x||0);return o.createElement(c.Sc,{className:r,key:t,onChange:function(){return d(e)},checked:!!~h.indexOf(e),disabled:p||e.disabled,inline:u,labelClassName:N||m,description:e.description,optionType:_,testIdBuilder:E,ref:this.addChildRefs},g?s("checkboxes/".concat(t),g,{data:(0,i.ed2)(y,e)}):x,f&&(0,i.Bdw)(e,"removable")?o.createElement("a",{"data-tooltip":C("Select.clear"),"data-position":"left"},o.createElement(c.In,{icon:"minus",className:"icon",onClick:function(t){return a.handleDeleteClick(t,e)}})):null,k&&(0,i.Bdw)(e,"editable")?o.createElement("a",{"data-tooltip":"编辑","data-position":"left"},o.createElement(c.In,{icon:"pencil",className:"icon",onClick:function(t){return a.handleEditClick(t,e)}})):null)},t.prototype.columnsSplit=function(e){var t=this.props,n=t.columnsCount,a=t.classnames,o=[],l=[];return e.forEach(function(e){e&&e.key&&String(e.key).startsWith("group")?(l.length&&(o.push((0,i.O_7)(l,a,n)),l=[]),o.push(e)):l.push(e)}),l.length&&o.push((0,i.O_7)(l,a,n)),o},t.prototype.render=function(){var e=this,t=this.props,n=t.className,l=(t.style,t.disabled),r=t.placeholder,d=t.options,h=t.inline,p=(t.columnsCount,t.selectedOptions),u=(t.onToggle,t.onToggleAll),m=t.checkAll,b=t.checkAllText,f=t.classnames,k=t.itemClassName,C=t.labelClassName,_=t.creatable,g=t.addApi,y=t.createBtnLabel,v=t.translate,x=t.optionType,N=t.loading,E=t.loadingConfig,R=t.themeCss,S=t.id,O=t.env,w=t.classPrefix,T=[];d&&d.length&&(T=d.map(function(t,n){return e.renderItem(t,n)})),m&&T.length&&"default"===x&&T.unshift(o.createElement(c.Sc,{key:"checkall",className:k,onChange:u,checked:!!p.length,partial:s()(p.length,0,(0,i.koz)(d).length),disabled:l,inline:h,labelClassName:C},null!=b?b:v("Checkboxes.selectAll"))),T=this.columnsSplit(T);var A=(0,i.Hkh)(R,"checkboxes");return o.createElement("div",{className:f("CheckboxesControl",n,(0,i.NH8)((0,a.__assign)((0,a.__assign)({},this.props),{name:["checkboxesControlClassName","checkboxesControlCheckedClassName","checkboxesClassName","checkboxesCheckedClassName","checkboxesInnerClassName","checkboxesShowClassName"],id:S,themeCss:A}))),ref:this.checkboxRef},T&&T.length?T:N?null:o.createElement("span",{className:"Form-placeholder"},v(r)),N?o.createElement(c.y$,{show:!0,icon:"reload",size:"sm",spinnerClassName:f("Checkboxes-spinner"),loadingConfig:E}):null,!_&&!g||l?null:o.createElement("a",{className:f("Checkboxes-addBtn"),onClick:this.handleAddClick},o.createElement(c.In,{icon:"plus",className:"icon"}),v(y)),o.createElement(i.z4D,(0,a.__assign)({},this.props,{config:{themeCss:A,classNames:[{key:"checkboxesControlClassName",weights:{default:{inner:".".concat(w,"Checkbox:not(.checked):not(.disabled)")},hover:{suf:" .".concat(w,"Checkbox:not(.disabled):not(.checked)")},disabled:{inner:".".concat(w,"Checkbox.disabled:not(.checked)")}}},{key:"checkboxesControlCheckedClassName",weights:{default:{inner:".".concat(w,"Checkbox.checked:not(.disabled)")},hover:{suf:" .".concat(w,"Checkbox.checked:not(.disabled)")},disabled:{inner:".".concat(w,"Checkbox.checked.disabled")}}},{key:"checkboxesClassName",weights:{default:{inner:".".concat(w,"Checkbox:not(.checked):not(.disabled) > i")},hover:{suf:" .".concat(w,"Checkbox:not(.disabled):not(.checked)"),inner:"> i"},disabled:{inner:".".concat(w,"Checkbox.disabled:not(.checked) > i")}}},{key:"checkboxesCheckedClassName",weights:{default:{inner:".".concat(w,"Checkbox:not(.disabled) > i")},hover:{suf:" .".concat(w,"Checkbox:not(.disabled)"),inner:"> i"},disabled:{inner:".".concat(w,"Checkbox.disabled > i")}}},{key:"checkboxesInnerClassName",weights:{default:{inner:".".concat(w,"Checkbox:not(.disabled) > i .icon")},hover:{suf:" .".concat(w,"Checkbox:not(.disabled)"),inner:"> i .icon"},disabled:{inner:".".concat(w,"Checkbox.disabled > i .icon")}}},{key:"checkboxesShowClassName",weights:{default:{inner:".".concat(w,"Checkbox > i")}}}],id:S},env:O})))},t.defaultProps={columnsCount:1,multiple:!0,placeholder:"placeholder.noOption",creatable:!1,inline:!0,createBtnLabel:"Select.createLabel",optionType:"default"},(0,a.__decorate)([i.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleAddClick",null),(0,a.__decorate)([i.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Event,Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleEditClick",null),(0,a.__decorate)([i.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Event,Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleDeleteClick",null),(0,a.__decorate)([i.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"updateBorderStyle",null),(0,a.__decorate)([i.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"addChildRefs",null),(0,a.__decorate)([(0,r.E)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"render",null),t}(o.Component),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),(0,a.__decorate)([(0,i.QqA)({type:"checkboxes",sizeMutable:!1,thin:!0})],t)}(p)}}]);