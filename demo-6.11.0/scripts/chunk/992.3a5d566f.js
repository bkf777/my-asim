"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[992],{10992:function(e,t,n){n.r(t),n.d(t,{IconPickerControlRenderer:function(){return h},default:function(){return m}});var a=n(31635),o=n(96540),i=n(32485),s=n.n(i),r=n(51545),d=n(36545),p=n.n(d),l=n(27648),c=n(5917),u=n(75992),_=n(25627),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,inputValue:"",isFocused:!1,vendorIndex:0},t}return(0,a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({inputValue:""})},t.prototype.changeVendor=function(e){this.setState({vendorIndex:e},this.formatOptions)},t.prototype.formatOptions=function(){var e=this.state.vendorIndex||0,t=u.Z[e],n=t.prefix;return t.icons.map(function(e){return{label:n+e,value:n+e}})},t.prototype.getVendors=function(){return u.Z.map(function(e){return e.name})},t.prototype.inputRef=function(e){this.input=e},t.prototype.focus=function(){if(this.input){this.input.focus();var e=this.input.value.length;e&&this.input.setSelectionRange(e,e)}},t.prototype.handleClick=function(){this.props.disabled||(this.focus(),this.setState({isOpen:!0}))},t.prototype.handleFocus=function(e){this.setState({isOpen:!0,isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},t.prototype.handleBlur=function(e){var t=this.props,n=t.onBlur,a=t.trimContents,o=t.value,i=t.onChange;this.setState({isFocused:!1},function(){a&&o&&"string"==typeof o&&i(o.trim())}),n&&n(e)},t.prototype.handleInputChange=function(e){var t=e.currentTarget.value;this.setState({inputValue:t})},t.prototype.handleKeyDown=function(e){if("backspace"===p()(e.keyCode)){var t=this.props.onChange;this.state.inputValue||(t(""),this.setState({inputValue:""}))}},t.prototype.handleChange=function(e){var t=this.props,n=t.onChange;t.disabled||(n(e),this.setState({isFocused:!1,inputValue:""}))},t.prototype.handleStateChange=function(e){switch(e.type){case l.Ay.stateChangeTypes.itemMouseEnter:case l.Ay.stateChangeTypes.changeInput:this.setState({isOpen:!0});break;default:var t={};void 0!==e.isOpen&&(t.isOpen=e.isOpen),this.state.isOpen&&!1===e.isOpen&&(t.inputValue=""),this.setState(t)}},t.prototype.handleClear=function(){var e=this,t=this.props,n=t.onChange,a=t.resetValue;null==n||n(a),this.setState({inputValue:a,isFocused:!0},function(){e.focus()})},t.prototype.renderFontIcons=function(){var e=this,t=this.props,n=t.className,i=t.inputOnly,s=t.placeholder,d=t.classnames,p=t.name,c=t.value,u=t.noDataTip,m=t.disabled,h=t.clearable,y=t.translate,g=this.formatOptions(),v=this.getVendors();return o.createElement(l.Ay,{isOpen:this.state.isOpen,inputValue:this.state.inputValue,onChange:this.handleChange,onOuterClick:this.handleBlur,onStateChange:this.handleStateChange,selectedItem:[c]},function(t){var l=t.getInputProps,f=t.getItemProps,C=t.isOpen,k=t.inputValue,I=k&&C?(0,r.matchSorter)(g,k,{keys:["label","value"],threshold:r.matchSorter.rankings.CONTAINS}):g;return o.createElement("div",{className:d("IconPickerControl-input IconPickerControl-input--withAC",i?n:"",{"is-opened":C}),onClick:e.handleClick},o.createElement("div",{className:d("IconPickerControl-valueWrap")},!s||c||e.state.inputValue?null:o.createElement("div",{className:d("IconPickerControl-placeholder")},s),!c||k&&C?null:o.createElement("div",{className:d("IconPickerControl-value")},o.createElement("i",{className:d(c)}),"string"==typeof c?c:""),o.createElement("input",(0,a.__assign)({},l({name:p,ref:e.inputRef,onFocus:e.handleFocus,onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,value:e.state.inputValue}),{autoComplete:"off",disabled:m,size:10})),h&&!m&&c?o.createElement("a",{onClick:e.handleClear,className:d("IconPickerControl-clear")},o.createElement(_.In,{icon:"input-clear",className:"icon"})):null),C?o.createElement("div",{className:d("IconPickerControl-sugsPanel")},v.length>1?o.createElement("div",{className:d("IconPickerControl-tabs")},v.map(function(t,n){return o.createElement("div",{className:d("IconPickerControl-tab",{active:e.state.vendorIndex===n}),onClick:function(){return e.changeVendor(n)},key:n},t)})):null,I.length?o.createElement("div",{className:d("IconPickerControl-sugs",v.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},I.map(function(e,t){return o.createElement("div",(0,a.__assign)({},f({item:e.value,className:d("IconPickerControl-sugItem",{"is-active":c===e.value})}),{key:t}),o.createElement("i",{className:d("".concat(e.value)),title:"".concat(e.value)}))})):o.createElement("div",{className:d(v.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},y(u))):null)})},t.prototype.render=function(){var e=this.props,t=e.className,n=(e.style,e.classPrefix),a=e.inputOnly,i=e.disabled,r=this.renderFontIcons();return a?r:o.createElement("div",{className:s()(t,"".concat(n,"IconPickerControl"),{"is-focused":this.state.isFocused,"is-disabled":i})},r)},t.defaultProps={resetValue:"",placeholder:"",noDataTip:"placeholder.noData"},(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Number]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"changeVendor",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"formatOptions",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"getVendors",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"inputRef",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"focus",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleClick",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleFocus",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleBlur",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleInputChange",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleKeyDown",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleChange",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleStateChange",null),(0,a.__decorate)([c.d6t,(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[]),(0,a.__metadata)("design:returntype",void 0)],t.prototype,"handleClear",null),t}(o.PureComponent),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),(0,a.__decorate)([(0,c.eIh)({type:"icon-picker"})],t)}(m)}}]);