"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[8644],{48644:function(t,o,e){e.r(o),e.d(o,{InputGroup:function(){return a},default:function(){return s}});var r=e(31635),n=e(96540),i=e(5917),a=function(t){function o(o){var e=t.call(this,o)||this;return e.toDispose=[],e.handleFocus=e.handleFocus.bind(e),e.handleBlur=e.handleBlur.bind(e),e.validateHook=e.validateHook.bind(e),e.state={isFocused:!1},e}return(0,r.__extends)(o,t),o.prototype.componentDidMount=function(){var t=this.props,o=t.addHook;t.name&&o&&this.toDispose.push(o(this.validateHook,"validate"))},o.prototype.componentDidUpdate=function(t){var o;(0,i.TIf)(["errorCode","delimiter"],null==t?void 0:t.validationConfig,null===(o=this.props)||void 0===o?void 0:o.validationConfig)&&this.validateHook()},o.prototype.componentWillUnmount=function(){this.toDispose.forEach(function(t){return t()}),this.toDispose=[]},o.prototype.getValidationConfig=function(){var t=this.props.validationConfig;return{errorMode:"partial"!==(null==t?void 0:t.errorMode)?"full":"partial",delimiter:(null==t?void 0:t.delimiter)&&"string"==typeof t.delimiter?t.delimiter:"; "}},o.prototype.validateHook=function(){var t,o=this.props,e=o.formStore,r=o.formItem,n=o.name,i=this.getValidationConfig().delimiter;if(n){var a=null===(t=null==e?void 0:e.inputGroupItems)||void 0===t?void 0:t[n];if(Array.isArray(a)){var s=a.map(function(t,o){if(t.errors.length<=0)return"";var e=t.label?"(".concat(o+1,")").concat(t.label):"(".concat(o+1,")");return"".concat(e,": ").concat(t.errors.join(i))}).filter(Boolean);r&&r.setError(s)}}},o.prototype.handleFocus=function(){this.setState({isFocused:!0})},o.prototype.handleBlur=function(){this.setState({isFocused:!1})},o.prototype.renderControl=function(t,o,e){var n=this.props,i=n.render,a=n.onChange;if(!t)return null;var s=t;return i("".concat(o),s,(0,r.__assign)({onChange:a},e))},o.prototype.validate=function(){var t=this.props.formItem,o=[];return null==t||t.subFormItems.forEach(function(t){t.errors.length&&o.push.apply(o,(0,r.__spreadArray)([],(0,r.__read)(t.errors),!1))}),o.length?o:""},o.prototype.render=function(){var t=this,o=this.props,e=o.body,r=o.controls,a=o.className,s=(o.style,o.mode),l=o.horizontal,u=o.formMode,d=o.formHorizontal,p=o.data,c=o.classnames,f=o.static,h=o.disabled,m=o.mobileUI,v=this.getValidationConfig().errorMode;u=s||u;var y=Array.isArray(r)?r:e;Array.isArray(y)||(y=[]),y=y.filter(function(t){if(t&&(t.hidden||!1===t.visible))return!1;var o=(0,i.x_4)(t||{},p);return!o.hidden&&!1!==o.visible});var b=l||(d?(0,i.OHk)(d,y.length):void 0);return n.createElement("div",{className:c("InputGroup","InputGroup-validation--".concat(v),a,{"is-focused":this.state.isFocused},{"is-mobile":m})},y.map(function(o,e){var r=~["icon","plain","tpl","button","submit","reset"].indexOf(o&&o.type),i=t.renderControl(o,e,{formHorizontal:b,formMode:"normal",inputOnly:!0,inputGroupControl:{name:t.props.name,path:t.props.$path,schema:t.props.$schema},key:e,static:f,disabled:h,onFocus:t.handleFocus,onBlur:t.handleBlur});return r?n.createElement("span",{key:e,className:c(o.addOnclassName,~["button","submit","reset"].indexOf(o&&o.type)?"InputGroup-btn":"InputGroup-addOn")},i):i}))},o.defaultProps={validationConfig:{errorMode:"full",delimiter:"; "}},o}(n.Component),s=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(o,t),(0,r.__decorate)([(0,i.eIh)({type:"input-group",strictMode:!1})],o)}(a)}}]);