"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[3564,9486],{39486:function(e,t,a){a.r(t),a.d(t,{TabsTransferPickerRenderer:function(){return d}});var n=a(31635),r=a(5917),i=a(96540),o=a(25627),s=a(73564),l=a(66283),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,n.__extends)(t,e),t.prototype.dispatchEvent=function(e){var t=this.props,a=t.dispatchEvent,n=t.value;a(e,(0,r.RKM)(this.props,{value:n}))},t.prototype.optionItemRender=function(e,t){var a=this.props,i=a.menuTpl,s=a.render,l=a.data,d=a.classnames,u=arguments[2]||{};return i?s("item/".concat(t.index),i,{data:(0,r.ed2)((0,r.ed2)(l,(0,n.__assign)((0,n.__assign)({},t),u)),e)}):o.LN.itemRender(e,(0,n.__assign)((0,n.__assign)({},t),{classnames:d}))},t.prototype.doAction=function(e){var t,a,n,i=this.props,o=i.resetValue,s=i.onChange,l=i.formStore,d=i.store,u=i.name;switch(e.actionType){case"clear":null==s||s("");break;case"reset":null==s||s(null!==(n=null!==(a=(0,r.dnO)(null!==(t=null==l?void 0:l.pristine)&&void 0!==t?t:null==d?void 0:d.pristine,u))&&void 0!==a?a:o)&&void 0!==n?n:"")}},t.prototype.render=function(){var e=this,t=this.props,a=t.className,n=(t.style,t.classnames),s=t.options,l=t.selectedOptions,d=t.sortable,u=t.loading,c=t.searchResultMode,p=t.showArrow,h=t.deferLoad,v=t.disabled,_=t.selectTitle,m=t.resultTitle,y=t.pickerSize,g=t.leftMode,f=t.leftOptions,b=t.itemHeight,T=t.virtualThreshold,C=t.loadingConfig,R=t.labelField,w=void 0===R?"label":R,F=t.valueField,A=void 0===F?"value":F,E=t.deferField,I=void 0===E?"defer":E,O=t.mobileUI,k=t.env,S=t.maxTagCount,j=t.overflowTagPopover,K=t.placeholder,M=t.initiallyOpen,x=void 0===M||M;return i.createElement("div",{className:n("TabsTransferControl",a)},i.createElement(o.Yh,{activeKey:this.state.activeKey,onTabChange:this.onTabChange,placeholder:K,value:l,disabled:v,options:s,onChange:this.handleChange,option2value:this.option2value,sortable:d,searchResultMode:c,onSearch:this.handleTabSearch,showArrow:p,onDeferLoad:h,selectTitle:_,resultTitle:m,size:y,leftMode:g,leftOptions:f,optionItemRender:this.optionItemRender,resultItemRender:this.resultItemRender,onFocus:function(){return e.dispatchEvent("focus")},onBlur:function(){return e.dispatchEvent("blur")},itemHeight:(0,r.Roz)(b)>0?(0,r.Roz)(b):void 0,virtualThreshold:T,labelField:w,valueField:A,deferField:I,mobileUI:O,popOverContainer:null==k?void 0:k.getModalContainer,maxTagCount:S,overflowTagPopover:j,initiallyOpen:x}),i.createElement(o.y$,{loadingConfig:C,overlay:!0,key:"info",show:u}))},(0,n.__decorate)([r.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[String]),(0,n.__metadata)("design:returntype",void 0)],t.prototype,"dispatchEvent",null),(0,n.__decorate)([r.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,n.__decorate)([(0,l.E)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],t.prototype,"render",null),(0,n.__decorate)([(0,r.QqA)({type:"tabs-transfer-picker"})],t)}(s.BaseTabsTransferRenderer)},73564:function(e,t,a){a.r(t),a.d(t,{BaseTabsTransferRenderer:function(){return h},TabsTransferRenderer:function(){return v}});var n=a(31635),r=a(5917),i=a(96540),o=a(7309),s=a.n(o),l=a(25627),d=a(61816),u=a(63063),c=a(66283),p=a(51545),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,n.__extends)(t,e),t.prototype.onTabChange=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t;return(0,n.__generator)(this,function(a){switch(a.label){case 0:return[4,(0,this.props.dispatchEvent)("tab-change",{key:e})];case 1:return(null==(t=a.sent())?void 0:t.prevented)||this.setState({activeKey:e}),[2]}})})},t.prototype.handleTabSearch=function(e,t,a){return(0,n.__awaiter)(this,void 0,void 0,function(){var i,o,l,d,u,c,h,v,_,m,y;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if(i=this.props,o=i.options,l=i.labelField,d=i.valueField,u=i.env,c=i.data,h=i.searchApi,v=i.translate,!h)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,u.fetcher(h,(0,r.ed2)(c,{term:e}),{cancelExecutor:a})];case 2:if(!(_=n.sent()).ok)throw new Error(v(_.msg||"networkError"));if(m=_.data.options||_.data.items||_.data,!Array.isArray(m))throw new Error(v("CRUD.invalidArray"));return[2,m.map(function(e){var t=null,a=e[d||"value"];return Array.isArray(o)&&null!=a&&(t=s()(o,(0,r.UjQ)(a,d))),t||e})];case 3:return y=n.sent(),u.isCancel(y)||!h.silent&&u.notify("error",y.message),[2,[]];case 4:return[3,6];case 5:return e?[2,(0,r.hVz)(t.children||o,function(t,a,n,r){return!!(Array.isArray(t.children)&&t.children.length||(0,p.matchSorter)([t].concat(r),e,{keys:[l||"label",d||"value"],threshold:p.matchSorter.rankings.CONTAINS}).length)},0,!0)]:[2,o];case 6:return[2]}})})},t.prototype.handleChange=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var a,i,o,s,l,d,u,c,p,h,v,_,m,y;return(0,n.__generator)(this,function(g){switch(g.label){case 0:return a=this.props,i=a.onChange,o=a.joinValues,s=a.delimiter,l=a.valueField,d=a.extractValue,u=a.options,c=a.dispatchEvent,p=a.setOptions,h=a.translate,v=e,_=u.concat(),m="UN_MATCH_RESULT",Array.isArray(e)?(v=e.map(function(e){var a=(0,r.iXH)(u,(0,r.UjQ)(e[l||"value"],l||"value"));if(a){if(t){var i=(0,r.Jvj)(_,a);_=(0,r.Z6D)(_,a,1,(0,n.__assign)((0,n.__assign)({},i),e))}}else{var s=(0,r.iXH)(_,function(e){return e.value===m});if(s){var c=(0,r.Jvj)(_,s);(null==c?void 0:c.children)&&(c.children.push(e),_=(0,r.Z6D)(_,s,1,(0,n.__assign)((0,n.__assign)({},c),e)))}else _.push({label:h("searchResult"),value:m,visible:!1,children:[e]})}return o||d?e[l||"value"]:e}),o&&(v=v.join(s||","))):e&&(v=o||d?e[l||"value"]:e),(_.length>u.length||t)&&p(_,!0),[4,c("change",(0,r.RKM)(this.props,{value:v,options:u,items:u}))];case 1:return(null==(y=g.sent())?void 0:y.prevented)||i(v),[2]}})})},(0,n.__decorate)([r.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",Promise)],t.prototype,"onTabChange",null),(0,n.__decorate)([r.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[String,Object,Function]),(0,n.__metadata)("design:returntype",Promise)],t.prototype,"handleTabSearch",null),(0,n.__decorate)([r.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",Promise)],t.prototype,"handleChange",null),t}(d.BaseTransferRenderer),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.optionItemRender=function(e,t){var a=this.props,i=a.menuTpl,o=a.render,s=a.data,l=a.classnames,d=arguments[2]||{};return i?o("item/".concat(t.index),i,{data:(0,r.ed2)((0,r.ed2)(s,(0,n.__assign)((0,n.__assign)({},t),d)),e)}):u.qZ.itemRender(e,(0,n.__assign)((0,n.__assign)({},t),{classnames:l}))},t.prototype.doAction=function(e,t,a,n){var i,o,s;void 0===a&&(a=!1);var l=this.props,d=l.resetValue,u=l.onChange,c=l.formStore,p=l.store,h=l.name,v=null==n?void 0:n.activeKey;switch(e.actionType){case"clear":null==u||u("");break;case"reset":null==u||u(null!==(s=null!==(o=(0,r.dnO)(null!==(i=null==c?void 0:c.pristine)&&void 0!==i?i:null==p?void 0:p.pristine,h))&&void 0!==o?o:d)&&void 0!==s?s:"");break;case"changeTabKey":this.setState({activeKey:v})}},t.prototype.render=function(){var e=this.props,t=e.className,a=(e.style,e.classnames),n=e.options,o=e.selectedOptions,s=e.sortable,d=e.loading,u=e.searchResultMode,c=e.selectMode,p=e.searchable,h=e.showArrow,v=e.deferLoad,_=e.leftDeferLoad,m=e.disabled,y=e.selectTitle,g=e.resultTitle,f=e.itemHeight,b=e.virtualThreshold,T=e.onlyChildren,C=e.loadingConfig,R=e.valueField,w=void 0===R?"value":R,F=e.labelField,A=void 0===F?"label":F,E=e.valueTpl,I=e.menuTpl,O=e.data,k=e.mobileUI,S=e.initiallyOpen,j=void 0===S||S,K=e.testIdBuilder;return i.createElement("div",{className:a("TabsTransferControl",t)},i.createElement(l.uX,{onlyChildren:T,activeKey:this.state.activeKey,value:o,disabled:m,options:n,onChange:this.handleChange,option2value:this.option2value,sortable:s,searchResultMode:u,onSearch:this.handleTabSearch,showArrow:h,onDeferLoad:v,onLeftDeferLoad:_,selectTitle:y,resultTitle:g,selectMode:c,searchable:p,optionItemRender:I?this.optionItemRender:void 0,resultItemRender:E?this.resultItemRender:void 0,onTabChange:this.onTabChange,itemHeight:(0,r.Roz)(f)>0?(0,r.Roz)(f):void 0,virtualThreshold:b,labelField:A,valueField:w,ctx:O,mobileUI:k,initiallyOpen:j,testIdBuilder:K}),i.createElement(l.y$,{overlay:!0,key:"info",show:d,loadingConfig:C}))},t.defaultProps={multiple:!0},(0,n.__decorate)([r.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,n.__decorate)([(0,c.E)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],t.prototype,"render",null),(0,n.__decorate)([(0,r.QqA)({type:"tabs-transfer"})],t)}(h)}}]);