"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[4466],{14466:function(t,e,a){a.r(e),a.d(e,{Input:function(){return y},RangeControlRenderer:function(){return x},default:function(){return f},formatValue:function(){return v}});var n=a(31635),i=a(96540),r=a(98023),o=a.n(r),s=a(23805),u=a.n(s),p=a(2404),l=a.n(p),m=a(39754),d=a.n(m),c=a(5917),_=a(25627),h=a(66283),g=function(t,e,a){if(void 0===e&&(e={}),"string"==typeof t){if("string"==typeof(t=(0,c.joH)(t)?(0,c.GvO)(t,e):t)){var n=parseFloat(t);return isNaN(n)?a:n}if("number"==typeof t)return t}else if("number"==typeof t)return t;return null!=t?t:a};function v(t,e){var a,i;if(e.multiple){var r=e.min,o=e.max;return"string"==typeof t?(r=(a=(0,n.__read)(t.split(e.delimiter||",").map(function(t){return Number(t)}),2))[0],o=a[1]):Array.isArray(t)?(r=(i=(0,n.__read)(t,2))[0],o=i[1]):"object"==typeof t&&(r=t.min,o=t.max),{min:void 0===r||r<e.min?e.min:r,max:void 0===o||o>e.max?e.max:o}}return+t<e.min?e.min:Math.min(+t,e.max)}var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.__extends)(e,t),e.prototype.handleInputNumberChange=function(t){var e,a=this.props,i=a.multiple,r=a.value,o=a.type,s=a.min,u=a.max,p=a.onChange,l=this.getValue(t,o);null==p||p(i?(0,n.__assign)((0,n.__assign)({},r),((e={})[o]=l,e)):Math.max(Math.min(t,u),s))},e.prototype.onUpdateValue=function(t){var e,a=this.props,i=a.multiple,r=a.value,o=a.type,s=this.getValue(t,o);this.props.onChange(i?(0,n.__assign)((0,n.__assign)({},r),((e={})[o]=s,e)):t)},e.prototype.checkNum=function(t){return"number"!=typeof t&&(t=(0,c.pbD)(t,this.props.data),t=/^[-]?\d+/.test(t)?+t:void 0),t},e.prototype.getStepPrecision=function(){var t,e=this.props,a=e.step,n=e.data,i=g(a,n,1);return!/^\d+\.\d+$/.test(i.toString())||i<0?0:null===(t=i.toString().split(".")[1])||void 0===t?void 0:t.length},e.prototype.getValue=function(t,e){var a=this.props,n=a.min,i=a.max,r=a.step,s=a.value;t=null!=t?t:"min"===e?n:i;var p=Math.round(parseFloat(t+"")/r)*r;switch(p=parseFloat(p.toFixed(this.getStepPrecision())),e){case"min":return u()(s)&&o()(s.max)?p>=s.max?s.max-r:p:n;case"max":return u()(s)&&o()(s.min)?p<=s.min?s.min+r:p:i;default:return p<n&&n||p>i&&i||p}},e.prototype.onBlur=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,a,i,r,o;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return e=this.props,a=e.dispatchEvent,i=e.value,r=e.onBlur,[4,a("blur",(0,c.RKM)(this.props,{value:i}))];case 1:return(null==(o=n.sent())?void 0:o.prevented)||null==r||r(t),[2]}})})},e.prototype.onFocus=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,a,i,r,o;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return e=this.props,a=e.dispatchEvent,i=e.value,r=e.onFocus,[4,a("focus",(0,c.RKM)(this.props,{value:i}))];case 1:return(null==(o=n.sent())?void 0:o.prevented)||null==r||r(t),[2]}})})},e.prototype.render=function(){var t,e=this.props,a=e.classnames,n=(e.style,e.value),r=e.multiple,o=e.type,s=e.step,u=e.classPrefix,p=e.disabled,l=e.max,m=e.min,d=e.mobileUI,c=e.unit,h=e.showInputUnit,g=r?"min"===o?Math.min(n.min,n.max):Math.max(n.min,n.max):n;return i.createElement("div",{className:a("".concat(u,"InputRange-input"),(t={},t["".concat(u,"InputRange-input-with-unit")]=c&&h,t))},i.createElement(_.Q7,{value:+g,step:s,max:this.checkNum(l),min:this.checkNum(m),onChange:this.handleInputNumberChange,disabled:p,onBlur:this.onBlur,onFocus:this.onFocus,mobileUI:d}),c&&h&&i.createElement("div",{className:a("".concat(u,"InputRange-unit"),"".concat(u,"Select"))},c))},(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleInputNumberChange",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"onUpdateValue",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Promise)],e.prototype,"onBlur",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Promise)],e.prototype,"onFocus",null),e}(i.Component),f=function(t){function e(e){var a=t.call(this,e)||this,n=a.props,i=n.value,r=n.multiple,o=n.delimiter,s=n.min,u=n.max,p=n.data,l=v(i,{multiple:r,delimiter:o,min:g(s,p,0),max:g(u,p,0)});return a.state={value:a.getValue(l)},a}return(0,n.__extends)(e,t),e.prototype.componentDidUpdate=function(t){var e=t.value,a=t.min,n=t.max,i=t.data,r=this.props,o=r.value,s=r.multiple,u=r.delimiter,p=r.min,l=r.max,m=r.data,d=(r.onChange,g(a,i,0)),c=g(n,i,100),_=g(p,m,0),h=g(l,m,100);if(e!==o||d!==_||c!==h){var y=v(o,{multiple:s,delimiter:u,min:_,max:h});this.setState({value:this.getValue(y)})}},e.prototype.doAction=function(t,e,a){var n=null==t?void 0:t.actionType;"reset"===n?this.resetValue():"clear"===n&&this.clearValue()},e.prototype.resetValue=function(){var t,e,a=this.props,n=a.multiple,i=a.min,r=a.max,o=a.data,s=a.onChange,u=a.formStore,p=a.store,l=a.name,m=a.resetValue,d=g(i,o,0),_=g(r,o,100),h=null!==(e=(0,c.dnO)(null!==(t=null==u?void 0:u.pristine)&&void 0!==t?t:null==p?void 0:p.pristine,l))&&void 0!==e?e:m,v=this.getFormatValue(null!=h?h:n?{min:d,max:_}:d);null==s||s(v)},e.prototype.clearValue=function(t){void 0===t&&(t="clear");var e=this.props,a=e.multiple,n=e.min,i=e.max,r=e.data,o=e.onChange,s=g(n,r,0),u=g(i,r,100),p=this.getFormatValue(a?{min:s,max:u}:s);null==o||o(p)},e.prototype.getStepPrecision=function(){var t,e=this.props,a=e.step,n=e.data,i=g(a,n,1);return!/^\d+\.\d+$/.test(i.toString())||i<0?0:null===(t=i.toString().split(".")[1])||void 0===t?void 0:t.length},e.prototype.getValue=function(t){var e=this.props.multiple,a=this.getStepPrecision();return e?{max:(0,c.C8X)(t.max,a),min:(0,c.C8X)(t.min,a)}:(0,c.C8X)(t,a)},e.prototype.handleChange=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,a,i,r,o,s;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return e=this.getValue(t),this.setState({value:e}),a=this.props,i=a.onChange,r=a.dispatchEvent,o=this.getFormatValue(e),[4,r("change",(0,c.RKM)(this.props,{value:o}))];case 1:return(null==(s=n.sent())?void 0:s.prevented)||null==i||i(o),[2]}})})},e.prototype.onAfterChange=function(){var t=this.state.value,e=this.props.onAfterChange,a=this.getFormatValue(this.getValue(t));e&&e(a)},e.prototype.getFormatValue=function(t){var e=this.props,a=e.multiple,n=e.joinValues,i=e.delimiter,r=e.extraName;return a?r?[t.min,t.max]:n?[t.min,t.max].join(i||","):{min:t.min,max:t.max}:t},e.prototype.render=function(){var t=this,e=this.state.value,a=(0,n.__assign)((0,n.__assign)({},this.props),{min:g(this.props.min,this.props.data,0),max:g(this.props.max,this.props.data,0),step:g(this.props.step,this.props.data,1),value:e,onChange:this.handleChange,onAfterChange:this.onAfterChange}),r=a.classPrefix,o=a.multiple,s=(a.parts,a.showInput),p=a.classnames,m=a.className,h=a.disabled,v=a.clearable,f=a.min,x=a.max,b=a.render,C=a.marks,V=a.region,F=a.mobileUI,I=C?(0,n.__assign)({},C):C;return C&&d()(C,function(t,e){u()(t)&&t.type&&I&&(I[e]=b(V,t)),I&&!(0,c.kf$)(e.replace(/%$/,""))&&delete I[e]}),i.createElement("div",{className:p("RangeControl","".concat(r,"InputRange"),{"is-disabled":h},{"is-mobile":F},m)},s&&o&&i.createElement(y,(0,n.__assign)({},a,{type:"min"})),i.createElement(_.Q6,(0,n.__assign)({},a,{marks:I})),s&&i.createElement(y,(0,n.__assign)({},a,{type:"max"})),v&&!h&&s?i.createElement("a",{onClick:function(){return t.clearValue()},className:p("InputRange-clear",{"is-active":o?l()(this.state.value,{min:f,max:x}):this.state.value!==f})},i.createElement(_.In,{icon:"close",className:"icon"})):null)},e.defaultProps={value:0,max:100,min:0,step:1,unit:"",clearable:!0,disabled:!1,showInput:!1,showInputUnit:!1,multiple:!1,joinValues:!0,delimiter:",",showSteps:!1,parts:1,tooltipPlacement:"auto"},(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"resetValue",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[String]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"clearValue",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"getValue",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Promise)],e.prototype,"handleChange",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"onAfterChange",null),(0,n.__decorate)([c.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Object)],e.prototype,"getFormatValue",null),(0,n.__decorate)([(0,h.E)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"render",null),e}(i.PureComponent),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.__extends)(e,t),(0,n.__decorate)([(0,c.eIh)({type:"input-range"})],e)}(f)}}]);