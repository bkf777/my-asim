"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[8415],{28415:function(e,t,a){a.r(t),a.d(t,{ListControlRenderer:function(){return r},default:function(){return o}});var l=a(31635),n=a(96540),i=a(5917),s=a(66283),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.__extends)(t,e),t.prototype.doAction=function(e,t,a){var l,n,s=this.props,o=s.resetValue,r=s.onChange,c=s.formStore,d=s.store,m=s.name,u=null==e?void 0:e.actionType;if("clear"===u)null==r||r("");else if("reset"===u){var p=null!==(n=(0,i.dnO)(null!==(l=null==c?void 0:c.pristine)&&void 0!==l?l:null==d?void 0:d.pristine,m))&&void 0!==n?n:o;null==r||r(null!=p?p:"")}},t.prototype.handleDBClick=function(e,t){this.props.onToggle(e,!1,!0),this.props.onAction(null,{type:"submit"})},t.prototype.handleClick=function(e,t){t.target&&t.target.closest("a,button")||(0,this.props.onToggle)(e)},t.prototype.reload=function(){var e=this.props.reloadOptions;e&&e()},t.prototype.renderStatic=function(e){void 0===e&&(e="-");var t=this.props,a=t.itemSchema,l=t.labelField,s=(t.valueField,t.imageClassName),o=t.itemClassName,r=t.selectedOptions,c=t.classnames,d=t.render,m=t.data;return r.length?n.createElement("div",{className:c("StaticList")},r.map(function(e,t){var r=e[l||"label"];return r=r||"选项".concat(t+1),a||e.body||e.image?n.createElement("div",{key:t,className:c("ListControl-static-item",o)},a?d("".concat(t,"/body"),a,{data:(0,i.ed2)(m,e)}):e.body?d("".concat(t,"/body"),e.body):[e.image?n.createElement("div",{key:"image",className:c("ListControl-itemImage",s)},n.createElement("img",{src:e.image,alt:r})):null,n.createElement("div",{key:"label",className:c("ListControl-itemLabel")},r)]):n.createElement("div",{key:t,className:c("ListControl-static-item")},r)})):e},t.prototype.render=function(){var e=this,t=this.props,a=t.render,s=t.itemClassName,o=t.classnames,r=t.className,c=(t.style,t.disabled),d=t.options,m=t.placeholder,u=t.selectedOptions,p=t.imageClassName,b=t.submitOnDBClick,y=t.itemSchema,v=t.activeItemSchema,g=t.data,C=t.labelField,h=t.listClassName,f=t.translate,_=t.testIdBuilder,k=null;return d&&d.length&&(k=n.createElement("div",{className:o("ListControl-items",h)},d.map(function(t,r){return n.createElement("div",(0,l.__assign)({key:r,className:o("ListControl-item",s,{"is-active":~u.indexOf(t),"is-disabled":t.disabled||c,"is-custom":!!y}),onClick:e.handleClick.bind(e,t),onDoubleClick:b?e.handleDBClick.bind(e,t):void 0},null==_?void 0:_.getChild("options-".concat(t.value||r)).getTestId()),y?a("".concat(r,"/body"),~u.indexOf(t)&&null!=v?v:y,{data:(0,i.ed2)(g,t)}):t.body?a("".concat(r,"/body"),t.body):[t.image?n.createElement("div",{key:"image",className:o("ListControl-itemImage",p)},n.createElement("img",{src:t.image,alt:t[C||"label"]})):null,t[C||"label"]?n.createElement("div",{key:"label",className:o("ListControl-itemLabel")},(0,i.pbD)(String(t[C||"label"]),g)):null])}))),n.createElement("div",{className:o("ListControl",r)},k||n.createElement("span",{className:o("ListControl-placeholder")},f(m)))},t.propsList=["itemSchema","value","renderFormItems"],t.defaultProps={clearable:!1,imageClassName:"",submitOnDBClick:!1},(0,l.__decorate)([(0,s.E)(),(0,l.__metadata)("design:type",Function),(0,l.__metadata)("design:paramtypes",[]),(0,l.__metadata)("design:returntype",void 0)],t.prototype,"render",null),t}(n.Component),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.__extends)(t,e),(0,l.__decorate)([(0,i.QqA)({type:"list-select",sizeMutable:!1})],t)}(o)}}]);