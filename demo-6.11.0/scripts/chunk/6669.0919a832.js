"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[6669],{56669:function(t,e,a){a.r(e),a.d(e,{WizardRenderer:function(){return u},default:function(){return d}});var n=a(31635),r=a(96540),i=a(5917),s=a(25627),o=a(2404),p=a.n(o),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initalValues={},e.state={currentStep:-1,completeStep:-1,rawSteps:[]},e}return(0,n.__extends)(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,a=e.initApi,n=e.initFetch,r=e.initAsyncApi,s=e.initFinishedField,o=e.store,p=e.messages,d=p.fetchSuccess,c=p.fetchFailed;e.onInit,(0,i.Amo)(a,o.data,n)?o.fetchInitData(a,o.data,{successMessage:d,errorMessage:c,onSuccess:function(){if((0,i.Amo)(r,o.data)&&!o.data[s||"finished"])return(0,i.TG4)(function(){return o.checkRemote(r,o.data)},function(t){return t&&t[s||"finished"]},function(e){return t.asyncCancel=e})}}).then(function(e){t.handleFetchInitEvent(e);var a={currentStep:"string"==typeof t.props.startStep?(0,i.Roz)((0,i.qwG)(t.props.startStep,(0,i.ed2)(t.props.data,(null==e?void 0:e.data)||{})),1):1};return e&&e.data&&("number"==typeof e.data.step||"string"==typeof e.data.step&&/^\d+$/.test(e.data.step))&&(a.currentStep=(0,i.Roz)(e.data.step,1)),t.setState(a,function(){e&&e.data&&(e.data.submiting||e.data.submited)&&t.checkSubmit()}),e}):this.setState({currentStep:"string"==typeof this.props.startStep?(0,i.Roz)((0,i.qwG)(this.props.startStep,this.props.data),1):1}),this.normalizeSteps(o.data)},e.prototype.componentDidUpdate=function(t){var e=this.props,a=e.store,n=e.fetchSuccess,r=e.fetchFailed;p()(t.steps,e.steps)&&p()(t.data,e.data)||this.normalizeSteps(e.data),(0,i.B92)(t.initApi,e.initApi,t.data,e.data)&&a.fetchData(e.initApi,a.data,{successMessage:n,errorMessage:r})},e.prototype.componentWillUnmount=function(){this.asyncCancel&&this.asyncCancel()},e.prototype.dispatchEvent=function(t,e){var a;return(0,n.__awaiter)(this,void 0,void 0,function(){var r,s,o,p;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return r=this.props,s=r.dispatchEvent,o=r.data,[4,s(t,e?(0,i.ed2)(o,e):o)];case 1:return p=n.sent(),[2,null!==(a=null==p?void 0:p.prevented)&&void 0!==a&&a]}})})},e.prototype.handleFetchInitEvent=function(t){var e;return(0,n.__awaiter)(this,void 0,void 0,function(){var a,r,i;return(0,n.__generator)(this,function(s){switch(s.label){case 0:return a=this.props,r=a.onInit,i=a.store,[4,this.dispatchEvent("inited",(0,n.__assign)((0,n.__assign)({},i.data),{responseData:t.ok?null!==(e=i.data)&&void 0!==e?e:{}:t,responseStatus:void 0===(null==t?void 0:t.status)?i.error?1:0:null==t?void 0:t.status,responseMsg:i.msg}))];case 1:return s.sent()&&r&&r(i.data),[2]}})})},e.prototype.normalizeSteps=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,a,r,s,o,p;return(0,n.__generator)(this,function(d){switch(d.label){case 0:e=this.props,a=e.steps,r=e.translate,s=[],o=a.length,p=0,d.label=1;case 1:return p<o?[4,(0,i.JnN)(a[p].hiddenOn,t)]:[3,4];case 2:!d.sent()&&s.push(a[p]),d.label=3;case 3:return p++,[3,1];case 4:return this.setState({rawSteps:s.map(function(t,e){return(0,n.__assign)((0,n.__assign)({},t),{hiddenOn:"",title:t.title||t.label||r("Steps.step",{index:e+1})})})}),[2]}})})},e.prototype.gotoStep=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var e;return(0,n.__generator)(this,function(a){switch(a.label){case 0:return e=this.state.rawSteps,(t=Math.max(Math.min(e.length,t),1))==this.state.currentStep?[3,2]:[4,this.dispatchEvent("stepChange",{step:t})];case 1:if(a.sent())return[2];this.setState({currentStep:t,completeStep:Math.max(this.state.completeStep,t-1)}),a.label=2;case 2:return[2]}})})},e.prototype.formRef=function(t){if(t){for(;t&&t.getWrappedInstance;)t=t.getWrappedInstance();this.form=t}else this.form=void 0},e.prototype.submitToTarget=function(t,e){throw new Error("Please implements this!")},e.prototype.reloadTarget=function(t,e){throw new Error("Please implements this!")},e.prototype.reload=function(t,e,a,r,s){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,a,r,o,p,d,c,u,l,h,m=this;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return e?[2,this.receive(e,void 0,s)]:(t=this.props,a=t.initApi,r=t.initAsyncApi,o=t.initFinishedField,p=t.store,d=t.messages,c=d.fetchSuccess,u=d.fetchFailed,(0,i.Amo)(a,p.data)&&1===this.state.currentStep?[4,p.fetchInitData(a,p.data,{successMessage:c,errorMessage:u,onSuccess:function(){if((0,i.Amo)(r,p.data)&&!p.data[o||"finished"])return(0,i.TG4)(function(){return p.checkRemote(r,p.data)},function(t){return t&&t[o||"finished"]},function(t){return m.asyncCancel=t})}})]:[3,2]);case 1:l=n.sent(),h={currentStep:1},l&&l.data&&("number"==typeof l.data.step||"string"==typeof l.data.step&&/^\d+$/.test(l.data.step))&&(h.currentStep=(0,i.Roz)(l.data.step,1)),this.setState(h,function(){l&&l.data&&(l.data.submiting||l.data.submited)&&m.checkSubmit()}),n.label=2;case 2:return[2,p.data]}})})},e.prototype.receive=function(t,e,a){return this.props.store.updateData(t,void 0,a),this.reload()},e.prototype.domRef=function(t){this.dom=t},e.prototype.getPopOverContainer=function(){return this.dom},e.prototype.checkSubmit=function(){var t,e=this,a=this.props,n=a.store,r=a.asyncApi,s=a.finishedField,o=a.env,p=this.state.rawSteps,d=p[this.state.currentStep-1],c=d&&d.asyncApi||this.state.currentStep===p.length&&r;d&&(0,i.Amo)(c,n.data)&&(n.markSaving(!0),n.updateData(((t={})[s||"finished"]=!1,t)),(0,i.TG4)(function(){return n.checkRemote(c,n.data)},function(t){return t&&t[s||"finished"]},function(t){return e.asyncCancel=t}).then(function(){n.markSaving(!1),e.gotoStep(e.state.currentStep+1)}).catch(function(t){!c.silent&&o.notify("error",t.message),n.markSaving(!1)}))},e.prototype.handleAction=function(t,e,a,r,s){var o=this;void 0===r&&(r=!1);var p=this.props,d=p.onAction,c=p.store,u=p.env,l=this.state.rawSteps;if("next"===e.actionType||"submit"===e.type||"step-submit"===e.actionType)this.form.doAction((0,n.__assign)((0,n.__assign)({},e),{actionType:"submit"}),a);else if("prev"===e.actionType)this.gotoStep(this.state.currentStep-1);else if("reset"===e.type)this.form.reset();else{if("dialog"===e.actionType)return c.setCurrentAction(e,this.props.resolveDefinitions),new Promise(function(t){c.openDialog(a,void 0,function(a,n){var r;null===(r=e.callback)||void 0===r||r.call(e,a,n),t({confirmed:a,value:n})},s||o.context)});if("ajax"===e.actionType)return e.api?c.saveRemote(e.api,a,{successMessage:e.messages&&e.messages.success,errorMessage:e.messages&&e.messages.failed}).then(function(){return(0,n.__awaiter)(o,void 0,void 0,function(){var t,a,r;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return this.form&&this.form.isValidated()&&this.form.validate(!0),(t=e.feedback)&&(0,i.zNq)(t,c.data)?[4,this.openFeedback(t,c.data)]:[3,2];case 1:if(a=n.sent(),t.skipRestOnCancel&&!a)throw new i.$aK;if(t.skipRestOnConfirm&&a)throw new i.$aK;n.label=2;case 2:return(r=e.redirect&&(0,i.pbD)(e.redirect,c.data))&&u.jumpTo(r,e,c.data),e.reload&&this.reloadTarget((0,i.Wvn)(e.reload,c.data),c.data),[2]}})})}).catch(function(t){}):u.alert("当 actionType 为 ajax 时，请设置 api 属性");if("reload"===e.actionType)e.target&&this.reloadTarget((0,i.Wvn)(e.target,a),a);else if("goto-step"===e.actionType){var h=a.step;void 0!==h&&h<=l.length&&h>=0&&this.gotoStep(a.step)}else"submit"===e.actionType?this.finalSubmit():d&&d(t,e,a,r,s||this.context)}},e.prototype.handleQuery=function(t){return this.props.initApi?!((null==t?void 0:t.hasOwnProperty("orderBy"))&&!(0,i.B92)(this.props.initApi,this.props.initApi,this.props.store.data,(0,i.ed2)(this.props.store.data,t)))&&void this.receive(t):!!this.props.onQuery&&this.props.onQuery(t)},e.prototype.openFeedback=function(t,e){var a=this;return new Promise(function(n){var r=a.props.store;r.setCurrentAction({type:"button",actionType:"dialog",dialog:t},a.props.resolveDefinitions),r.openDialog(e,void 0,function(t){n(t)},a.context)})},e.prototype.handleChange=function(t){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,a,r;return(0,n.__generator)(this,function(i){switch(i.label){case 0:return e=this.props.store,a=e.data,r=(0,n.__assign)((0,n.__assign)({},a),t),[4,this.dispatchEvent("change",r)];case 1:return i.sent()||e.updateData(t),[2]}})})},e.prototype.handleInit=function(t){var e=this.state.currentStep;this.initalValues[e]=this.initalValues[e]||t,this.props.store.updateData(t)},e.prototype.handleReset=function(t){var e=this.props.store,a=this.initalValues[this.state.currentStep],n={};Object.keys(t).forEach(function(t){n[t]=a.hasOwnProperty(t)?a[t]:void 0}),e.updateData(n)},e.prototype.finalSubmit=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={type:"submit"}),(0,n.__awaiter)(this,void 0,void 0,function(){var a,r,s,o,p,d,c,u,l,h,m,f,_,y,g,v,b=this;return(0,n.__generator)(this,function(S){switch(S.label){case 0:return a=this.props,r=a.store,s=a.api,o=a.asyncApi,p=a.finishedField,d=a.target,c=a.redirect,u=a.reload,l=a.env,h=a.onFinished,m=this.state.rawSteps,[4,this.dispatchEvent("finished",r.data)];case 1:if(S.sent())return[2];if(f=m[this.state.currentStep-1],r.updateData(t),d)this.submitToTarget((0,i.Wvn)(d,r.data),r.data),this.setState({completeStep:m.length});else if(e.api||f.api||s)_=e.asyncApi||f.asyncApi||o,(0,i.Amo)(_,r.data)&&r.updateData(((v={})[p||"finished"]=!1,v)),y=this.form?this.form.props.store:r,r.markSaving(!0),y.saveRemote(e.api||f.api||s,r.data,{onSuccess:function(t){return(0,n.__awaiter)(b,void 0,void 0,function(){var e,a=this;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return[4,this.dispatchEvent("submitSucc",(0,i.ed2)(this.props.data,{result:t}))];case 1:return e=n.sent(),!(0,i.Amo)(_,r.data)||r.data[p||"finished"]?[2,{cbResult:null,dispatcher:e}]:[2,{cbResult:(0,i.TG4)(function(){return r.checkRemote(_,r.data)},function(t){return t&&t[p||"finished"]},function(t){return a.asyncCancel=t}),dispatcher:e}]}})})},onFailed:function(t){return(0,n.__awaiter)(b,void 0,void 0,function(){return(0,n.__generator)(this,function(e){switch(e.label){case 0:return r.markSaving(!1),[4,this.dispatchEvent("submitFail",(0,i.ed2)(this.props.data,{error:t}))];case 1:return[2,{dispatcher:e.sent()}]}})})}}).then(function(t){return(0,n.__awaiter)(b,void 0,void 0,function(){var a,s,o;return(0,n.__generator)(this,function(p){switch(p.label){case 0:return(a=e.feedback)&&(0,i.zNq)(a,t)?[4,this.openFeedback(a,t)]:[3,2];case 1:if(s=p.sent(),a.skipRestOnCancel&&!s)throw new i.$aK;if(a.skipRestOnConfirm&&s)throw new i.$aK;p.label=2;case 2:if(this.setState({completeStep:m.length}),r.updateData((0,n.__assign)((0,n.__assign)({},r.data),t)),r.markSaving(!1),t&&"number"==typeof t.step)this.gotoStep(t.step);else if(h&&!1===h(t,e))return[2,t];return(o=(e.redirect||f.redirect||c)&&(0,i.pbD)(e.redirect||f.redirect||c,r.data))?l.jumpTo(o,e,r.data):(e.reload||f.reload||u)&&this.reloadTarget((0,i.Wvn)(e.reload||f.reload||u,r.data),r.data),[2,t]}})})}).catch(function(t){});else{if(this.setState({completeStep:m.length}),h&&!1===h(r.data,e))return[2];(g=(e.redirect||f.redirect||c)&&(0,i.pbD)(e.redirect||f.redirect||c,r.data))?l.jumpTo(g,e,r.data):(e.reload||f.reload||u)&&this.reloadTarget((0,i.Wvn)(e.reload||f.reload||u,r.data),r.data)}return[2]}})})},e.prototype.handleSubmit=function(t,e){var a,r=this,s=this.props,o=s.store,p=s.finishedField,d=this.state.rawSteps;if(this.state.currentStep<d.length){var c=d[this.state.currentStep-1];o.updateData(t);var u=e.asyncApi||c.asyncApi;(0,i.Amo)(u,o.data)&&o.updateData(((a={})[p||"finished"]=!1,a)),(0,i.Amo)(e.api||c.api,o.data)?o.saveRemote(e.api||c.api,o.data,{onSuccess:function(){if(r.dispatchEvent("stepSubmitSucc"),(0,i.Amo)(u,o.data)&&!o.data[p||"finished"])return(0,i.TG4)(function(){return o.checkRemote(u,o.data)},function(t){return t&&t[p||"finished"]},function(t){return r.asyncCancel=t})},onFailed:function(t){r.dispatchEvent("stepSubmitFail",{error:t}),422===t.status&&t.errors&&r.form&&r.form.props.store.setFormItemErrors(t.errors)}}).then(function(t){return(0,n.__awaiter)(r,void 0,void 0,function(){var a,r;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return(a=e.feedback)&&(0,i.zNq)(a,t)?[4,this.openFeedback(a,t)]:[3,2];case 1:if(r=n.sent(),a.skipRestOnCancel&&!r)throw new i.$aK;if(a.skipRestOnConfirm&&r)throw new i.$aK;n.label=2;case 2:return this.gotoStep(t&&"number"==typeof t.step?t.step:this.state.currentStep+1),[2]}})})}).catch(function(t){r.dispatchEvent("stepSubmitFail",{error:t})}):this.gotoStep(this.state.currentStep+1)}else this.finalSubmit(t,e);return!1},e.prototype.handleDialogConfirm=function(t,e,a){var n=this.props.store;e.mergeData&&1===t.length&&t[0]&&"form"===a[0].props.type&&n.updateData(t[0]),n.closeDialog(!0,t)},e.prototype.handleDialogClose=function(t){void 0===t&&(t=!1),this.props.store.closeDialog(t)},e.prototype.handleJumpStep=function(t,e){var a=this.props.store;c(e,t,this.state.currentStep,a.data)&&this.gotoStep(t+1)},e.prototype.renderSteps=function(){var t=this.props,e=t.mode,a=t.classPrefix,n=t.classnames,i=t.stepsClassName,o=this.state,p=o.currentStep,d=o.rawSteps;return r.createElement("div",{className:n("".concat(a,"-Wizard-steps"),i),id:"form-wizard"},Array.isArray(d)&&d.length?r.createElement(s.gj,{steps:d,mode:e,current:p-1,onClickStep:this.handleJumpStep}):null)},e.prototype.renderActions=function(){var t=this,e=this.props,a=e.store,n=e.readOnly,s=e.disabled,o=e.actionClassName,p=e.actionPrevLabel,d=e.actionNextLabel,u=e.actionNextSaveLabel,l=e.actionFinishLabel,h=e.render,m=e.translate,f=(e.classnames,e.testIdBuilder),_=this.state.rawSteps;if(!Array.isArray(_))return null;var y=this.state.currentStep,g=_[y],v=_[y-2],b=a.loading,S=_[y-1];if(!S)return null;var w=!!v&&c(v,y-2,y,a.data);return S.actions&&Array.isArray(S.actions)?S.actions.length?r.createElement(r.Fragment,null,S.actions.map(function(e,a){return h("action/".concat(a),e,{key:a,data:(0,i.ed2)(t.props.data,{currentStep:y}),onAction:t.handleAction,disabled:e.disabled||b||s||"prev"===e.actionType&&!w||"next"===e.actionType&&n&&(!!S.api||!g)})})):null:r.createElement(r.Fragment,null,h("prev-btn",{type:"button",label:m(p),actionType:"prev",className:o,hiddenOn:"${currentStep === 1}",id:null==f?void 0:f.getChild("button-prev").getTestIdValue()},{disabled:b||!w||s,onAction:this.handleAction,data:(0,i.ed2)(this.props.data,{currentStep:y})}),h("next-btn",{type:"button",label:g?S.api?m(u):m(d):m(l),actionType:"next",primary:!g||!!S.api,className:o,level:"primary",id:null==f?void 0:f.getChild("button-next").getTestIdValue()},{disabled:b||s||n&&(!!S.api||!g),onAction:this.handleAction}))},e.prototype.renderFooter=function(){var t=this.renderActions();if(!t)return t;var e=this.props,a=e.classnames,n=e.affixFooter,i=e.footerClassName,s=e.wrapWithPanel;return r.createElement("div",{role:"wizard-footer",className:a("Wizard-footer",s?"Panel-footer":"",n&&s?"Panel-fixedBottom":"",i)},t)},e.prototype.renderWizard=function(){var t=this.props,e=t.className,a=t.steps,i=t.style,o=t.render,p=t.store,d=t.classPrefix,c=t.classnames,u=t.popOverContainer,l=t.mode,h=t.translate,m=t.loadingConfig,f=t.stepClassName,_=t.bodyClassName,y=t.wrapWithPanel,g=this.state,v=g.rawSteps,b=g.currentStep,S=Array.isArray(v)&&v.length>0?v:Array.isArray(a)?(0,n.__spreadArray)([],(0,n.__read)(a),!1).map(function(t){return delete t.hiddenOn,t}):null,w=Array.isArray(S)?S[b-1]:null;return r.createElement("div",{ref:this.domRef,className:c(y?"".concat(d,"Panel ").concat(d,"Panel--default"):"","".concat(d,"Wizard ").concat(d,"Wizard--").concat(l),e),style:i},r.createElement("div",{className:c("".concat(d,"Wizard-step"),f)},this.renderSteps(),r.createElement("div",{role:"wizard-body",className:c("".concat(d,"Wizard-stepContent clearfix"),_)},w?o("body",(0,n.__assign)((0,n.__assign)({},w),{type:"form",wrapWithPanel:!1,api:null}),{key:this.state.currentStep,ref:this.formRef,onInit:this.handleInit,onReset:this.handleReset,onSubmit:this.handleSubmit,onAction:this.handleAction,onQuery:this.handleQuery,disabled:p.loading,popOverContainer:u||this.getPopOverContainer,onChange:this.handleChange,formStore:void 0}):-1===b?h("loading"):r.createElement("p",{className:"text-danger"},h("Wizard.configError"))),this.renderFooter()),o("dialog",(0,n.__assign)((0,n.__assign)({},p.action&&p.action.dialog),{type:"dialog"}),{key:"dialog",data:p.dialogData,onConfirm:this.handleDialogConfirm,onClose:this.handleDialogClose,show:p.dialogOpen}),r.createElement(s.y$,{loadingConfig:m,size:"lg",overlay:!0,key:"info",show:p.loading}))},e.prototype.render=function(){return this.renderWizard()},e.defaultProps={mode:"horizontal",readOnly:!1,messages:{},actionClassName:"",actionPrevLabel:"Wizard.prev",actionNextLabel:"Wizard.next",actionNextSaveLabel:"Wizard.saveAndNext",actionFinishLabel:"Wizard.finish",startStep:"1",wrapWithPanel:!0},e.propsList=["steps","mode","messages","actionClassName","actionPrevLabel","actionNextLabel","actionNextSaveLabel","actionFinishLabel","onFinished","affixFooter","startStep"],(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"formRef",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"domRef",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"getPopOverContainer",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object,Object,Boolean,Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleAction",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleQuery",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Promise)],e.prototype,"handleChange",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleInit",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleReset",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleSubmit",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,Object,Array]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleDialogConfirm",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleDialogClose",null),(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number,Object]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleJumpStep",null),e}(r.Component);function c(t,e,a,n){return t&&t.hasOwnProperty("jumpable")?t.jumpable:t&&t.jumpableOn?(0,i.pgu)(t.jumpableOn,(0,i.ed2)(n,{currentStep:a})):e+1<a}var u=function(t){function e(e,a){var n=t.call(this,e)||this;return a.registerComponent(n),n}return(0,n.__extends)(e,t),e.prototype.componentWillUnmount=function(){this.context.unRegisterComponent(this),t.prototype.componentWillUnmount.call(this)},e.prototype.doAction=function(t,e,a){return void 0===a&&(a=!1),this.handleAction(void 0,t,e)},e.prototype.submitToTarget=function(t,e){this.context.send(t,e)},e.prototype.reloadTarget=function(t,e){this.context.reload(t,e)},e.prototype.handleDialogConfirm=function(e,a,n){t.prototype.handleDialogConfirm.call(this,e,a,n);var r=this.props.store,i=this.context;a.reload?i.reload(a.reload,r.data):r.action&&r.action.reload&&i.reload(r.action.reload,r.data)},e.prototype.setData=function(t,e){return this.props.store.updateData(t,void 0,e)},e.prototype.getData=function(){return this.props.store.data},e.contextType=i.MzX,(0,n.__decorate)([i.d6t,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,Object,Array]),(0,n.__metadata)("design:returntype",void 0)],e.prototype,"handleDialogConfirm",null),(0,n.__decorate)([(0,i.A49)({type:"wizard",storeType:i.DtI.name,isolateScope:!0}),(0,n.__metadata)("design:paramtypes",[Object,Object])],e)}(d)}}]);